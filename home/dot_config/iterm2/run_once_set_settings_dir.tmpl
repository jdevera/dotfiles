{{- if eq .chezmoi.os "darwin" -}}
#!/usr/bin/env bash

# {{ template "dotfiles_bashlib.sh" . }}

# Help shellcheck identify the above include
true || source ../.chezmoitemplates/dotfiles_bashlib.sh
dot::chezmoi_script_start "configure iTerm2 settings saving"


ITERM2_DOMAIN="com.googlecode.iterm2"

dot::step::macos::defaults::set \
    "$ITERM2_DOMAIN" "PrefsCustomFolder" "string" "~/.config/iterm2/settings" \
    "specify the preferences directory"

dot::step::macos::defaults::set \
    "$ITERM2_DOMAIN" "LoadPrefsFromCustomFolder" "boolean" "true" \
    "tell iTerm2 to load preferences from the directory"
{{ end -}}