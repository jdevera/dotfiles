# Ghostty Configuration
# Docs: https://ghostty.org/docs/config/reference
# Reload: Cmd+Shift+, (comma) on macOS, Ctrl+Shift+, (comma) on Linux

# Theme
# Run `ghostty +list-themes` to see all available themes
theme = Catppuccin Mocha

# Font
font-family = FantasqueSansM Nerd Font Mono
font-size = 19

# Grapheme Width
# Use legacy (wcswidth-style) width calculation to match what bash expects.
# This fixes prompt display issues when navigating history with Nerd Font icons.
# Note: Changes require a new terminal - existing terminals keep their setting.
grapheme-width-method = legacy

# Window
# Makes the titlebar blend with terminal background
macos-titlebar-style = transparent
window-padding-x = 6
window-padding-y = 6

# Cursor
cursor-style = block
cursor-style-blink = false

# Keyboard
# Left Option = Alt (for shortcuts), Right Option = special characters (å, ñ, etc.)
macos-option-as-alt = left

# Mouse
mouse-hide-while-typing = true
# Use "clipboard" instead of "true" to copy to system clipboard on macOS (changed in 1.1.0)
copy-on-select = clipboard

# Quick Terminal (dropdown from anywhere)
# Toggle with Ctrl+` from any app
keybind = global:ctrl+grave_accent=toggle_quick_terminal
quick-terminal-position = bottom
# Format: height,width (for bottom/top position)
quick-terminal-size = 25%,70%
quick-terminal-autohide = true

# Shell Integration Features
# Ghostty auto-injects shell integration for supported shells (bash, zsh, fish, elvish).
# Features not listed use their defaults. Prefix with "no-" to disable.
#
# Available features:
#   cursor       - Sets cursor to a blinking bar at the shell prompt
#   sudo         - Wraps sudo to preserve terminfo, so terminal features work in sudo commands
#   title        - Updates window/tab title via shell integration
#   ssh-terminfo - Installs Ghostty's terminfo on remote hosts when SSHing, enabling full
#                  terminal features (colors, cursor styles, etc.). Successful installs are cached.
#   ssh-env      - Falls back to TERM=xterm-256color if terminfo installation fails,
#                  ensuring compatibility with any remote host.
#
# Title handling: Ghostty's preexec sets the title to the running command (vim, less, etc.),
# and Starship's [custom.window_title] module resets it to the directory when the prompt renders.
# These complement each other - preexec fires before a command, Starship fires after.
shell-integration-features = cursor,sudo,title,ssh-terminfo,ssh-env
